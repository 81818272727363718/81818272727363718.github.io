<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mobile Space Shooter</title>
    
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #000;
            color: white;
            font-family: sans-serif;
            text-align: center;
            overflow: hidden;
        }

        canvas {
            background-color: #000;
            border: 2px solid white;
            touch-action: none; 
        }

        .controls {
            margin-top: 20px;
            display: flex;
            justify-content: space-around;
            width: 100%;
            max-width: 400px;
        }

        button {
            padding: 15px 30px;
            font-size: 16px;
            cursor: pointer;
            background-color: #007BFF;
            border: none;
            color: white;
            border-radius: 5px;
            width: 100px;
        }
    </style>
</head>
<body>
    <h1>Space Shooter</h1>
    <canvas id="gameCanvas" width="400" height="400"></canvas>
    
    <div class="controls">
        <button id="left">Left</button>
        <button id="shoot">Shoot</button>
        <button id="right">Right</button>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const CANVAS_WIDTH = canvas.width;
        const CANVAS_HEIGHT = canvas.height;
        
        // Game Variables
        let playerX = CANVAS_WIDTH / 2;
        const playerWidth = 32;
        const playerHeight = 32;
        let bullets = [];
        let enemies = [];
        let score = 0;
        let gameOver = false;

        // Load a simple sprite image from an external URL
        const playerImg = new Image();
        // A simple spaceship icon URL hosted online
        playerImg.src = 'i.imgur.com'; 

        // Game Loop
        function updateGame() {
            if (gameOver) return;

            ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);
            
            drawPlayer();
            updateBullets();
            updateEnemies();
            checkCollisions();
            drawScore();
            
            requestAnimationFrame(updateGame);
        }

        function drawPlayer() {
            ctx.drawImage(playerImg, playerX - playerWidth / 2, CANVAS_HEIGHT - playerHeight - 10, playerWidth, playerHeight);
        }

        function updateBullets() {
            for (let i = bullets.length - 1; i >= 0; i--) {
                bullets[i].y -= 5;
                ctx.fillStyle = 'yellow';
                ctx.fillRect(bullets[i].x, bullets[i].y, 3, 10);

                if (bullets[i].y < 0) {
                    bullets.splice(i, 1);
                }
            }
        }

        function shoot() {
            bullets.push({ 
                x: playerX, 
                y: CANVAS_HEIGHT - playerHeight - 10 
            });
        }

        // Add controls
        document.getElementById('left').addEventListener('click', () => playerX -= 20);
        document.getElementById('right').addEventListener('click', () => playerX += 20);
        document.getElementById('shoot').addEventListener('click', shoot);

        // More game logic needs to be added (enemy spawning, collision detection, game over state)
        // The above code provides a basic, playable core structure with mobile controls and *some* graphics.

        function updateEnemies() { /* Not fully implemented but needed for a complete game */ }
        function checkCollisions() { /* Not fully implemented but needed for a complete game */ }
        function drawScore() {
            ctx.fillStyle = "white";
            ctx.font = "16px Arial";
            ctx.fillText("Score: " + score, 20, 20);
        }


        // Start the game loop once the image is loaded
        playerImg.onload = () => {
            requestAnimationFrame(updateGame);
        };
        // Handle image load errors if you want
        playerImg.onerror = () => {
            console.error("Failed to load player image.");
            requestAnimationFrame(updateGame); // Start game even without image
        };

    </script>
</body>
</html>
