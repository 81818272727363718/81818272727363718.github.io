<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Roblox Neon Lookup</title><link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Inter:wght@400;600&display=swap" rel="stylesheet"><style>
:root{--bg:#04050f;--panel:rgba(255,255,255,0.06);}*{box-sizing:border-box;}body{margin:0;font-family:'Inter',system-ui,sans-serif;background:radial-gradient(circle at 20% 20%,rgba(255,46,212,0.2),transparent 35%),radial-gradient(circle at 80% 0%,rgba(0,255,247,0.18),transparent 35%),radial-gradient(circle at 45% 75%,rgba(130,86,255,0.18),transparent 40%),var(--bg);color:#e8f7ff;padding:20px;min-height:100vh;}
h1{text-align:center;font-family:'Orbitron';} .container{max-width:980px;margin:auto;} .controls{display:flex;gap:10px;flex-wrap:wrap;margin:20px 0 6px;} input{flex:1;min-width:200px;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,0.12);background:rgba(255,255,255,0.05);color:white;}
button{padding:10px 16px;border-radius:12px;border:1px solid rgba(0,255,255,0.4);background:rgba(0,255,255,0.18);color:white;font-weight:600;cursor:pointer;transition:.18s;}button:hover{background:rgba(0,255,255,0.3);}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:14px;} .card{background:var(--panel);border:1px solid rgba(255,255,255,0.14);border-radius:14px;padding:14px;}
#suggestions{position:relative;max-width:980px;margin:auto;}#suggestionsList{position:absolute;left:0;right:0;top:2px;background:rgba(8,12,26,0.95);border-radius:10px;border:1px solid rgba(0,255,255,0.4);z-index:20;display:none;max-height:220px;overflow:auto;}
.suggestion-item{padding:8px;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.06);} .suggestion-item:hover{background:rgba(0,255,255,0.16);}
#loadingOverlay{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:none;align-items:center;justify-content:center;z-index:200;} .spinner{width:60px;height:60px;border-radius:50%;border:4px solid rgba(0,255,255,0.2);border-top-color:#00fff7;animation:spin .8s linear infinite,glow 1.2s ease-in-out infinite alternate;}
@keyframes spin{to{transform:rotate(360deg);}}@keyframes glow{from{box-shadow:0 0 8px rgba(0,255,255,0.5);}to{box-shadow:0 0 20px rgba(0,255,255,0.9);}}
#popupOverlay{position:fixed;inset:0;background:rgba(0,0,0,0.65);display:none;align-items:center;justify-content:center;z-index:150;}
.popup-box{background:rgba(8,12,26,0.97);border:1px solid rgba(0,255,255,0.4);border-radius:14px;padding:18px;width:90%;max-width:620px;max-height:72vh;overflow:auto;}#popupSearch{width:100%;padding:10px;border-radius:10px;background:rgba(255,255,255,0.07);border:1px solid rgba(0,255,255,0.4);color:white;} .popup-item{padding:5px 0;border-bottom:1px solid rgba(255,255,255,0.07);}
.popup-item.clickable:hover{color:#00fff7;cursor:pointer;text-shadow:0 0 10px #00fff7;} .popup-badge-link{color:#00fff7;text-decoration:none;} .popup-sub{opacity:.7;font-size:12px;}
</style></head>
<body>
<div class="container">
<h1>Roblox Neon Lookup</h1>
<div class="controls"><input id="rbxUser" placeholder="Roblox username"><button id="rbxFetch">Fetch Profile</button></div>
<div id="suggestions"><div id="suggestionsList"></div></div>

<div class="controls"><input id="badgeUser" placeholder="Username"><input id="badgeId" placeholder="Badge ID"><button id="badgeCheckBtn">Check Badge Award</button></div>
<div id="badgeAwardResult" class="card" style="display:none;margin-bottom:16px;"></div>

<div class="controls"><input id="banUser" placeholder="Username"><input id="banPlaceId" placeholder="Place ID"><button id="banCheckBtn">Check Game Ban</button></div>
<div id="banCheckResult" class="card" style="display:none;margin-bottom:16px;"></div>

<div id="rbxResults" class="grid"></div></div>

<div id="loadingOverlay"><div class="spinner"></div></div>

<div id="popupOverlay"><div class="popup-box"><h2 id="popupTitle"></h2><input id="popupSearch" placeholder="Search..."><div id="popupContent"></div><button onclick="closePopup()">Close</button></div></div>

<script>
const proxyWrap=u=>`https://corsproxy.io/?${encodeURIComponent(u)}`;async function fetchJson(u,o){const h=o?.method==="POST"?{"Content-Type":"application/json"}:{};const r=await fetch(u,{mode:"cors",credentials:"omit",...o,headers:h});if(!r.ok)throw new Error("HTTP "+r.status);return await r.json();}
function showLoading(x){document.getElementById("loadingOverlay").style.display=x?"flex":"none";}
const usernameEndpoints=["https://users.roproxy.com/v1/usernames/users","https://users.rprxy.xyz/v1/usernames/users",proxyWrap("https://users.roblox.com/v1/usernames/users")];
async function lookupUser(n){const p={usernames:[n]};for(const u of usernameEndpoints){try{const d=await fetchJson(u,{method:"POST",body:JSON.stringify(p)});if(d?.data?.length)return d.data[0];}catch{}}throw new Error("Unable to reach Roblox user services.");}

let suggestTimeout=null;const inputEl=document.getElementById("rbxUser"),sugList=document.getElementById("suggestionsList");
inputEl.addEventListener("input",()=>{const q=inputEl.value.trim();if(suggestTimeout)clearTimeout(suggestTimeout);if(!q||q.length<3){sugList.style.display="none";sugList.innerHTML="";return;}suggestTimeout=setTimeout(()=>doSuggest(q),250);});
async function doSuggest(q){let d=null;try{d=await fetchJson(proxyWrap(`https://users.roblox.com/v1/users/search?keyword=${q}&limit=10`));}catch{ sHide();return;}if(!d?.data?.length){sHide();return;}sugList.innerHTML=d.data.map(u=>`<div class="suggestion-item" data-username="${u.name}">${u.displayName} <span style="opacity:.6">(@${u.name})</span></div>`).join("");sugList.style.display="block";document.querySelectorAll(".suggestion-item").forEach(i=>i.onclick=()=>{inputEl.value=i.dataset.username;sHide();renderRoblox(i.dataset.username);});}
function sHide(){sugList.style.display="none";}

document.addEventListener("click",e=>{if(!document.querySelector(".controls").contains(e.target)&&!document.getElementById("suggestions").contains(e.target))sHide();});

let popupItems=[],popupOptions={type:"generic",onClick:null};
function showPopup(t,items,opt={type:"generic",onClick:null}){popupItems=items.slice();popupOptions=opt;document.getElementById("popupTitle").textContent=t;document.getElementById("popupOverlay").style.display="flex";document.getElementById("popupSearch").value="";renderPopupList(items);document.getElementById("popupSearch").oninput=()=>{const q=document.getElementById("popupSearch").value.toLowerCase();renderPopupList(popupItems.filter(x=>popupOptions.type==="badge"? (x.name.toLowerCase().includes(q)||(x.gameName||"").toLowerCase().includes(q)||String(x.id).includes(q)):x.toLowerCase().includes(q)));};}
function renderPopupList(L){const b=document.getElementById("popupContent");if(!L.length){b.innerHTML="<p>No results.</p>";return;}if(popupOptions.type==="badge"){b.innerHTML=L.map(x=>`<div class="popup-item"><a class="popup-badge-link" target="_blank" href="https://www.roblox.com/badges/${x.id}">${x.name}</a><div class="popup-sub">ID: ${x.id}</div><div class="popup-sub">Game: <a class="popup-badge-link" target="_blank" href="https://www.roblox.com/games/${x.placeId||''}">${x.gameName||('Place '+(x.placeId||'?'))}</a></div></div>`).join("");}else{b.innerHTML=L.map(n=>`<div class="popup-item ${popupOptions.onClick?'clickable':''}" data-name="${n}">${n}</div>`).join("");if(popupOptions.onClick)document.querySelectorAll(".popup-item.clickable").forEach(el=>el.onclick=()=>{popupOptions.onClick(el.dataset.name);closePopup();});}}
function closePopup(){document.getElementById("popupOverlay").style.display="none";}
function formatLastOnline(x){if(!x)return"Unknown";const t=new Date(x).getTime();if(!t)return"Unknown";const s=(Date.now()-t)/1000,m=s/60,h=m/60,d=h/24;if(d>=1)return`${Math.floor(d)} day(s) ago`;if(h>=1)return`${Math.floor(h)} hour(s) ago`;if(m>=1)return`${Math.floor(m)} min(s) ago`;return`${Math.floor(s)} sec(s) ago`;}

document.getElementById("rbxFetch").onclick=()=>renderRoblox(inputEl.value.trim()||"builderman");
let lastFriendsSet=null;

async function renderRoblox(n){
showLoading(true);const w=document.getElementById("rbxResults");w.innerHTML='<div class="card">Loading...</div>';
try{const u=await lookupUser(n);const id=u.id;
async function tryMulti(arr){for(const x of arr){try{return await fetchJson(x.url||x,x.opts);}catch{}}return null;}

const profile=await tryMulti([{url:`https://users.roproxy.com/v1/users/${id}`},{url:`https://users.rprxy.xyz/v1/users/${id}`},{url:proxyWrap(`https://users.roblox.com/v1/users/${id}`)}]);
const presence=await tryMulti([{url:"https://presence.roproxy.com/v1/presence/users",opts:{method:"POST",body:JSON.stringify({userIds:[id]})}},{url:"https://presence.rprxy.xyz/v1/presence/users",opts:{method:"POST",body:JSON.stringify({userIds:[id]})}},{url:proxyWrap("https://presence.roblox.com/v1/presence/users"),opts:{method:"POST",body:JSON.stringify({userIds:[id]})}}]);
const friends=await tryMulti([{url:`https://friends.roproxy.com/v1/users/${id}/friends?limit=200`},{url:`https://friends.rprxy.xyz/v1/users/${id}/friends?limit=200`},{url:proxyWrap(`https://friends.roblox.com/v1/users/${id}/friends?limit=200`)}]);
const groups=await tryMulti([{url:`https://groups.roproxy.com/v2/users/${id}/groups/roles`},{url:`https://groups.rprxy.xyz/v2/users/${id}/groups/roles`},{url:proxyWrap(`https://groups.roblox.com/v2/users/${id}/groups/roles`)}]);
let badges=await tryMulti([{url:`https://badges.roproxy.com/v1/users/${id}/badges?limit=100&sortOrder=Asc`},{url:`https://badges.rprxy.xyz/v1/users/${id}/badges?limit=100&sortOrder=Asc`},{url:proxyWrap(`https://badges.roblox.com/v1/users/${id}/badges?limit=100&sortOrder=Asc`)}]);
const avatar=await tryMulti([{url:`https://avatar.roproxy.com/v1/users/${id}/avatar`},{url:`https://avatar.rprxy.xyz/v1/users/${id}/avatar`},{url:proxyWrap(`https://avatar.roblox.com/v1/users/${id}/avatar`)}]);

const pres=presence?.userPresences?.[0];const presenceType=pres?.userPresenceType;const presenceText=presenceType===2?"In-Game":presenceType===1?"Online":presenceType===3?"Studio":"Offline";const lastOnline=formatLastOnline(pres?.lastOnline||"");
const friendsAll=(friends?.data||[]).map(f=>f.name);const curr=new Set(friendsAll);let mutual=[];if(lastFriendsSet)mutual=friendsAll.filter(x=>lastFriendsSet.has(x));lastFriendsSet=curr;
const groupsAll=(groups?.data||[]).map(g=>`${g.group.name} â€” ${g.role?.name||'Member'}`);

let badgesObjects=[],badgesVisible=false;
if(badges?.data){badgesObjects=badges.data.map(b=>({id:b.id,name:b.name||("Badge"+b.id),placeId:b.awarderPlaceId||null,gameName:b.awarderName||null}));if(badgesObjects.length)badgesVisible=true;}

const rap=(avatar?.assets||[]).reduce((s,a)=>s+(a.recentAveragePrice||0),0).toLocaleString();
w.innerHTML="";function card(t,b,opt={}){const d=document.createElement("div");d.className="card";d.innerHTML=`<h3>${t}</h3><p>${b}</p>`;if(opt.showAll){const btn=document.createElement("button");btn.textContent="Show All";btn.onclick=()=>showPopup(t,opt.rawItems||opt.list,opt.popupOptions||{});d.appendChild(btn);}w.appendChild(d);}

card("Profile",`<strong>${profile.displayName}</strong><br>@${profile.name}<br>Created: ${new Date(profile.created).toLocaleDateString()}`);
card("Presence",`${presenceText}<br><span style="opacity:.7">Last online: ${lastOnline}</span>`);
card("Friends",friendsAll.slice(0,6).join(", ")||"None",{showAll:true,list:friendsAll,popupOptions:{onClick:(x)=>renderRoblox(x)}});
if(mutual.length)card("Mutual Friends",mutual.slice(0,6).join(", ")+(mutual.length>6?` +${mutual.length-6}`:""),{showAll:true,list:mutual,popupOptions:{onClick:(x)=>renderRoblox(x)}});
card("Groups",groupsAll.slice(0,4).join("<br>")||"None",{showAll:true,list:groupsAll});
if(badgesVisible)card("Badges",badgesObjects.slice(0,5).map(b=>b.name).join(", "),{showAll:true,list:badgesObjects.map(b=>b.name),rawItems:badgesObjects,popupOptions:{type:"badge"}});
card("RAP",rap||"N/A");

}catch(e){w.innerHTML=`<div class="card">${e.message}</div>`;}
showLoading(false);
}

document.getElementById("badgeCheckBtn").onclick=async()=>{
const u=(document.getElementById("badgeUser").value||"").trim();const b=(document.getElementById("badgeId").value||"").trim();const R=document.getElementById("badgeAwardResult");if(!u||!b){R.style.display="block";R.innerHTML="<h3>Badge Award</h3><p>Enter username + badge ID.</p>";return;}R.style.display="block";R.innerHTML="<h3>Badge Award</h3>Checking...";try{const U=await lookupUser(u);let data=null;for(const x of [`https://badges.roproxy.com/v1/users/${U.id}/badges/awarded-dates?badgeIds=${b}`,`https://badges.rprxy.xyz/v1/users/${U.id}/badges/awarded-dates?badgeIds=${b}`,proxyWrap(`https://badges.roblox.com/v1/users/${U.id}/badges/awarded-dates?badgeIds=${b}`)]){try{data=await fetchJson(x);break;}catch{}}
const entry=data?.data?.find(x=>String(x.badgeId)===String(b));if(!entry){R.innerHTML=`<h3>Badge Award</h3><p>${u} has never earned badge ${b} or it's private.</p>`;return;}R.innerHTML=`<h3>Badge Award</h3><p>${u} earned badge ${b} on:</p><p>${new Date(entry.awardedDate).toLocaleString()}</p>`;}catch(err){R.innerHTML=`<h3>Badge Award</h3>Error: ${err.message}`;}};

document.getElementById("banCheckBtn").onclick=async()=>{
const u=(document.getElementById("banUser").value||"").trim(),p=Number((document.getElementById("banPlaceId").value||"").trim());const R=document.getElementById("banCheckResult");R.style.display="block";if(!u||!p){R.innerHTML="<h3>Game Ban</h3><p>Enter username + place ID.</p>";return;}R.innerHTML="<h3>Game Ban</h3><p>Checking...</p>";try{const U=await lookupUser(u);let uni=null;try{uni=await fetchJson(proxyWrap(`https://apis.roblox.com/universes/v1/places/${p}`));}catch{}if(!uni?.universeId){R.innerHTML="<h3>Game Ban</h3><p>Invalid place ID.</p>";return;}const un=uni.universeId;let perms=null;for(const x of[`https://privacy.roproxy.com/v1/games/${un}/permissions?userId=${U.id}`,`https://privacy.rprxy.xyz/v1/games/${un}/permissions?userId=${U.id}`,proxyWrap(`https://games.roblox.com/v1/games/${un}/permissions?userId=${U.id}`)]){try{perms=await fetchJson(x);break;}catch{}}if(!perms){R.innerHTML="<h3>Game Ban</h3><p>No permission data.</p>";return;}if(perms.canJoin){R.innerHTML=`<h3>Game Ban</h3><p>${u} is <span style=color:#00ffa6>NOT banned</span>.</p>`;return;}let msg="";switch(perms.reason){case"UserRestricted":msg="User is <span style=color:#ff4e4e>banned</span>.";break;case"GameBlocked":msg="Developer <span style=color:#ff4e4e>blocked</span> user.";break;case"WhitelistOnly":msg="User not whitelisted.";break;case"Private":msg="Game is private.";break;default:msg="Join denied: "+perms.reason;}R.innerHTML=`<h3>Game Ban</h3><p>${u}</p><p>${msg}</p>`;}catch(e){R.innerHTML=`<h3>Game Ban</h3><p>Error: ${e.message}</p>`;}};
</script>
</body></html>
